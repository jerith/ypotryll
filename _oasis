OASISFormat: 0.4
Name:        ypotryll
Version:     0.0.1
Synopsis:    AMQP client library
Authors:     Jeremy Thurgood
License:     MIT
Plugins:     META (0.4), DevFiles (0.4)
BuildTools:  ocamlbuild

Library ypotryll_proto
  Path:    lib/protocol
  Install: false
  Modules: Protocol

Library ypotryll_gen_code
  Path:         lib/gen
  Install:      false
  Modules:      Generated_method_types, Generated_methods
  BuildDepends: ypotryll_proto

Library ypotryll
  Path:         lib
  Modules:      Client
  BuildDepends: lwt, lwt.syntax, lwt.unix, ypotryll_gen_code

Executable foo
  Path:       example
  MainIs:     foo.ml
  BuildDepends: lwt, lwt.syntax, lwt.unix, ypotryll

Executable test_ypotryll
  Path:         test
  MainIs:       test.ml
  Build$:       flag(tests)
  Install:      false
  BuildDepends: ypotryll, oUnit

Test test_ypotryll_code_gen
  Run$:             flag(tests)
  Command:          $test_ypotryll
  WorkingDirectory: test
